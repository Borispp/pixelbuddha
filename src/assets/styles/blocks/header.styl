.main-header
  position fixed
  top 0
  width 100%
  z-index 12
  display flex
  justify-content space-between
  align-items center
  padding 0 0 0 30px
  box-sizing border-box
  height $headerHeight
  background $red
  backface-visibility hidden

.main-burger
  display none
  svg
    fill $grey-light
    transition fill .15s ease-in-out

  &.-active
    svg
      fill $red-dark

.main-logo
  .logo-text,
  .logo-pic
    fill $white

.main-menu
  position absolute
  z-index 2
  top 0
  left 50%
  transform translate(-50%, 0)

.main-menu-list
  display flex

.main-menu-item
  position relative
  height $headerHeight

  &:hover
    .main-menu-link
      opacity .5

.main-menu-link
  display flex
  align-items center
  height $headerHeight
  font-family Roboto
  font-weight 500
  font-size 19px
  color $white
  text-decoration none
  transition opacity .15s linear, transform .15s linear
  padding 1px 14px 0
  box-sizing border-box

  &:focus
    background $red-hover

.main-menu-link:not(*:root) {
  font-size 20px
}

// Dropdown menu
// ============================================
.main-menu-item
  &.-submenu
    &:before
      content ''
      topAngle($grey-lightest)
      topAngleHidden()

    &:hover,
    &:focus,
    &:focus-within
      &:before
        opacity 1
        transform translate(0, 0)

      .main-menu-sub
        visibility visible
        opacity 1
        transform translate(0, 100%)
        transition-delay 0s, 0s, 0.2s

.main-dropdown-list-wrapper
  display inline-flex
  margin-right -30px

.main-menu-sub
  dropdownHidden()
  dropdownStyle()

.main-dropdown-list
  width 110px

.main-dropdown-link
  linkDefault()
  display inline-block
  width 100%
  padding 0 6px
  box-sizing border-box
  font-weight 500
  line-height 41px
  font-size 14px
  color $blue-dark
  text-decoration none
  text-transform uppercase
  transition color .15s linear

// Main controls
// ============================================
.main-controls
  display flex
  align-items center
  align-self stretch

// Main Search
.main-search
  display flex
  align-self stretch

  &.-active
    .main-search-wrapper
      dropDownVisible()

    .main-search-icon
      svg
        opacity .5

      &:before
        opacity 1
        transform translate(0, 0)

.main-search-icon
  position relative
  display flex
  align-items center
  cursor pointer
  transition opacity .15s linear
  padding 0 24px

  &::before
    content ''
    topAngle(#eee)
    topAngleHidden()

  svg
    fill $white
    width 20px
    height 20px
    transition opacity .15s ease-in-out

  &:hover
    svg
      opacity .5

.main-search-wrapper
  dropdownHidden()
  left 0
  width 100%
  height 62px

.main-search-close
  position absolute
  right 30px
  top calc(50% - 20px)
  width 40px
  height 40px
  display flex
  align-items center
  justify-content center
  cursor pointer

  svg
    width 10px
    height 10px
    fill $black
    opacity .2
    transition opacity .15s

  &:hover
    svg
      opacity .8


.main-search-input
  display block
  width 100%
  height 100%
  box-sizing border-box
  padding 6px 72px 6px 30px
  font-size 24px
  line-height 30px
  border 0
  background #eee

  +placeholder()
    color $grey-light

// User controls
// ============================================
.main-avatar-wrapper
  display flex
  align-self stretch
  position relative
  padding 0 36px 0 6px
  cursor pointer

  &.-mobile
    display none

  &:before
    content ''
    topAngle($grey-lightest)
    topAngleHidden()
    left 18px

  &:hover,
  &:focus,
  &:focus-within
    &:before
      opacity 1
      transform translate(0, 0)

    .user-menu-dropdown
      dropDownVisible()

.main-avatar
  align-self center
  width 40px
  height 40px
  background $grey-lighter
  border-radius 4px
  background-size cover
  background-position center center

.user-menu-dropdown
  right 0
  dropdownHidden()
  dropdownStyle()

  padding 12px 24px 20px

.user-menu-dropdown-item
  position relative
  width 152px

  &.-username
    padding-bottom 12px
    margin-bottom 14px

    .button-plus
      position absolute
      right 0
      top 11px

    &:after
      content ''
      position absolute
      bottom 0
      display block
      width 100%
      height 2px
      background rgba(208, 208, 208, 0.4)

.user-menu-dropdown-link
  linkDefault()
  display inline-block
  width 100%
  color $grey-light-medium
  font-size 15px
  line-height 37px
  font-weight 500
  text-decoration none
  box-sizing border-box

@media (max-width 992px)
  .main-header
    padding 0 8px 0 38px

  .main-logo
    width 30px
    overflow hidden

    svg
      width 224px
      height 27px

    .logo-text
      display none

@media (max-width 700px)
  .main-menu
    position relative
    left 0
    transform translate(0)

@media (max-width 620px)
  .main-header
    background $white
    height calc($headerHeight - 1px)
    border-bottom 1px solid $grey-lightest-main
    padding 0 0 0 14px

  .main-avatar-wrapper
    display none
    padding-right 20px

    &.-mobile
      display flex

  .main-burger
    display flex
    align-self stretch
    width 80px
    justify-content center
    margin-left -20px

    svg
      align-self center

  .main-logo
    position absolute
    left calc(50% - 18px)

    svg .logo-pic
      fill $red

  .main-menu,
  .main-search,
  .user-menu-dropdown,
  .main-avatar-wrapper:before
    display none
